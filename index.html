<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mercur ‚Äî Iniciar sesi√≥n</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f5f7fb;
      --panel:#ffffff;
      --muted:#6b7280;
      --text:#0f172a;
      --border:#e5e7eb;
      --primary:#2563eb;
      --primary-600:#1d4ed8;
      --ring:rgba(37,99,235,.2);
      --shadow:0 8px 28px rgba(2,8,23,.10);
      --radius:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Helvetica Neue", Arial;
      color:var(--text);
      background:var(--bg);
    }

    .wrap{
      max-width:1220px;
      margin:0 auto;
      min-height:100dvh;
      padding:20px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:28px;
      align-items:center;
    }
    @media (max-width:1020px){
      .wrap{grid-template-columns:1fr; padding:16px}
      .hero{order:-1}
    }

    .panel{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:28px;
    }
    .title{
      font-size:22px;
      font-weight:700;
      margin:4px 0 6px;
    }
    .subtitle{
      color:var(--muted);
      font-size:13px;
      margin-bottom:18px;
      max-width:520px;
    }
    .field{display:grid; gap:6px; margin:10px 0}
    label{font-size:13px; font-weight:600; color:#1f2937}
    .ctrl{position:relative}
    input{
      width:100%;
      height:44px;
      border:1px solid var(--border);
      border-radius:10px;
      background:#f8fafc;
      padding:0 12px;
      font-size:14px;
      outline:none;
      transition:border-color .15s, box-shadow .15s;
    }
    input::placeholder{color:#9ca3af}
    input:focus{
      background:#fff;
      border-color:var(--primary);
      box-shadow:0 0 0 4px var(--ring);
    }
    .eye{
      position:absolute; right:10px; top:50%; transform:translateY(-50%);
      width:24px; height:24px; border:0; background:#fff; border-radius:6px;
      display:grid; place-items:center; cursor:pointer; color:#64748b;
      box-shadow:0 0 0 1px var(--border) inset;
    }
    .auxline{
      display:flex; justify-content:space-between; align-items:center; margin-top:6px;
    }
    .auxline a{font-size:12px; color:#2563eb; text-decoration:none; font-weight:600}
    .primary{
      width:100%; height:44px; border-radius:10px; border:0; cursor:pointer;
      background:var(--primary); color:#fff; font-weight:700; font-size:14px;
    }
    .primary:hover{background:var(--primary-600)}

    .divider{
      display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
      gap:10px; color:#94a3b8; font-size:12px; margin:12px 0;
    }
    .divider:before, .divider:after{content:""; height:1px; background:var(--border)}

    .google{
      width:100%; height:44px; border-radius:10px; border:1px solid #dadce0;
      background:#fff; display:flex; align-items:center; justify-content:center;
      gap:8px; font-weight:600; cursor:pointer; color:#3c4043; font-family:Roboto,Arial,sans-serif; font-size:14px;
    }

    .bottom-hint{margin-top:16px; font-size:12px; color:#6b7280}
    .bottom-hint a{color:#2563eb; text-decoration:none; font-weight:600}

    .hero{
      display:flex; align-items:center; justify-content:center;
      border-radius:18px; min-height:540px; overflow:hidden;
      border:1px solid rgba(15,23,42,.06);
      background:#e7efff; box-shadow:0 20px 50px rgba(30,64,175,.15);
      padding:12px;
    }
    .hero img{
      width:100%; height:auto; object-fit:contain; display:block;
      border-radius:14px; background:#fff; border:1px solid #e5e7eb;
      box-shadow:0 10px 30px rgba(2,8,23,.08);
    }

    .result{
      background:#fff; border:1px solid var(--border); border-radius:12px;
      box-shadow:var(--shadow); padding:28px; max-width:760px; margin:40px auto;
      text-align:left;
    }
    .result h1{color:#b91c1c; margin:0 0 12px; font-size:26px}
    .result h2{margin:0 0 10px; font-size:18px}
    .result h3{margin:0 0 10px; font-size:16px}
    .result p{margin:10px 0; font-size:15px; line-height:1.6}
    .ok{font-weight:700; color:#059669}

    .hidden{display:none!important}
  </style>

  <!-- PostHog SDK loader -->
<script>
  !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Ce js Ls Te Fs Ds capture Ye calculateEventProperties Us register register_once register_for_session unregister unregister_for_session Ws getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Bs zs createPersonProfile Hs Ms Gs opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Ns debug L qs getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
</script>

<!-- Tracking logic -->
<script>
  function getQueryParam(name){
    const params=new URLSearchParams(window.location.search);
    return params.get(name);
  }

  const POSTHOG_TOKEN='phc_STsjKrrJmCWjFEeISwqJAOM5gsAvikLs20xTkaKV8s2';
  const POSTHOG_HOST='https://us.i.posthog.com';

  // Inicializa lo antes posible
  posthog.init(POSTHOG_TOKEN,{ api_host:POSTHOG_HOST, capture_pageview:true });

  document.addEventListener('DOMContentLoaded',function(){
    const victim=getQueryParam('victim');

    if(victim){ posthog.identify(victim); }

    // Evento 1: siempre al abrir la p√°gina
    posthog.capture('phishing_simulation_view',{
      simulation:'phishing_test_sept2025',
      message:'Usuario abri√≥ la p√°gina de la simulaci√≥n de phishing',
      victim:victim||'unknown'
    });

    function captureAttempt(method){
      posthog.capture('phishing_simulation_login',{
        simulation:'phishing_test_sept2025',
        victim:victim||'unknown',
        method:method||'unknown'
      });
    }

    function revealPhishing(){
      const login=document.getElementById('screen-login');
      const result=document.getElementById('screen-result');
      if(login && result){
        login.classList.add('hidden');
        result.classList.remove('hidden');
        window.scrollTo({ top:0, behavior:'smooth' });
        if(!result.__renderSent){
          result.__renderSent = true;
          posthog.capture('phishing_simulation_login', {
            simulation:'phishing_test_sept2025',
            victim:victim||'unknown',
            method:'render'
          });
        }
      }
    }

    // Click en "Google"
    const googleBtn=document.getElementById('google-btn');
    if(googleBtn){
      googleBtn.addEventListener('click',function(e){
        e.preventDefault();
        captureAttempt('google');
        revealPhishing();
      });
    }

    // Submit con correo/contrase√±a
    const form=document.getElementById('login-form');
    if(form){
      form.addEventListener('submit',function(e){
        e.preventDefault(); // evita recarga y limpieza de inputs
        captureAttempt('password');
        revealPhishing();
      });
    }
  });
</script>
</head>
<body>
  <!-- LOGIN -->
  <div id="screen-login" class="wrap">
    <div class="panel">
      <div class="title">Bienvenido üëã</div>
      <div class="subtitle">Con Vambe Mercur tendr√°s el control de tus agentes IA con m√∫ltiples integraciones.</div>

      <form id="login-form" autocomplete="off" novalidate>
        <div class="field">
          <label for="email">Correo electr√≥nico</label>
          <div class="ctrl">
            <input id="email" name="email" type="email" placeholder="john@acme.com" required />
          </div>
        </div>

        <div class="field">
          <label for="password">Contrase√±a</label>
          <div class="ctrl">
            <input id="password" name="password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
            <button id="eye" type="button" class="eye" aria-label="Mostrar/ocultar contrase√±a">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7-10-7-10-7Z" stroke="currentColor" stroke-width="1.6"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6"/>
              </svg>
            </button>
          </div>
          <div class="auxline">
            <span></span>
            <a id="forgot-link" href="#">¬øOlvidaste tu contrase√±a?</a>
          </div>
        </div>

        <button class="primary" type="submit">Accede con tu correo electr√≥nico</button>

        <div class="divider">o</div>

        <button id="google-btn" class="google" type="button" aria-label="Inicia sesi√≥n con Google">
          <img src="https://techdocs.akamai.com/identity-cloud/img/social-login/identity-providers/iconfinder-new-google-favicon-682665.png" alt="Google" width="18" height="18" style="display:block;" />
          <span>Inicia sesi√≥n con Google</span>
        </button>

        <div class="bottom-hint">
          ¬øNo tienes una cuenta?
          <a id="register-link" href="#">Crea tu cuenta gratis aqu√≠</a>
        </div>
      </form>
    </div>

    <div class="hero" aria-hidden="true">
      <img src="./login-image.svg" alt="Ilustraci√≥n de acceso" />
    </div>
  </div>

  <!-- RESULTADO SIMULACI√ìN -->
  <div id="screen-result" class="result hidden">
    <h1>‚ö†Ô∏è ¬°CAISTE EN UNA SIMULACI√ìN DE PHISHING!</h1>
    <h2>Tranquilo: esto es solo una simulaci√≥n, <strong>soy el Vini</strong>.</h2>
    <h3>POR FAVOR NO COMENTES ESTO CON NADIE. NECESITO VER QUI√âNES CAEN. ¬°NO SPOILERS!</h3>
    <p>Estoy haciendo una simulaci√≥n de phishing autorizada como parte de las pruebas para ISO 27001:2022 y SOC 2.</p>
    <p>No est√° pasando nada grave, no hay ning√∫n riesgo real para tu cuenta ni para la empresa.</p>
    <p>El objetivo de esta prueba es entrenar y concientizar al equipo sobre c√≥mo detectar este tipo de ataques y mejorar nuestra seguridad.</p>
    <p class="ok">‚úÖ Gracias por participar ‚Äî seguimos mejorando juntos la seguridad de Vambe.</p>
  </div>
</body>
</html>
